                                 ASG

IN LOAD BLANCER LEVEL WE CAN DEFINING RULES
APPLICATION LOADBALANCER WORKING LAYER-7 MODEL
======================================================
ASG:

1) WHAT IS AUTO-SALLING-GROUP
2) WHY WE IMPLEMNT AUTO-SACLLING-GROUP
1) AUTO SCALLING GROUP DOING SCALLING ACTIVITY
SCALLING : SCALLING MEANS 2 TYPES
1) SCALE-OUT
2) SCALE0-IN
==============================================
2) WHY WE IMPLEMNT ASG:
THERE ARE 4 REGONS FOR WE IMPLEMNT ASG
ASG WE IMPLENT FO HIGH AVALABILITY FOR OUR APPLICATION
ASG WE IMPLEMNT DESTASTER RECOVERY FROM DEGASTER WE RECOVERY OUR APPLICATION 
===================================
3) WHAT ARE PROBLEMS WE ARE NOT ACHIVING HIGH AVALABILTY FOR OUR APPLICATIUONs
 OUR APPLICATION MAINY WE IMPLEMENT 3 THINGS 1) HIGH AVALABILITY 2) FOULTTOLLERENCE 3) DESTATER RECOVERY
==========================================
4) 
SERVER FAILURE:
FLIPKART MAINTAINE ONE SERVER FOR FILPKART APPLICATION 
NOW THAT SERVER FAILURE BECAUSE OF HARD-DISK OR MEMORY LOSS ETC..
NOW CUSTROMER ARE NOT ACESSING THAT FILPKART APPLICATION 
FILPKART HAVING THAT SERVER BACKUP BUT FROM BACK-UP RELUANCH SERVER'S THEY WANT SOME-TIME
ON THAT CUSTPRES ARE RELOCATE TO ANOTHER APPLICATION FLIPKART APPLICATION DOWN

SITE FAILURE(AZ-FAILURE): FLIPKART SERVERS HAVE MULTIPLE SERVER'S BUT THEIR MAINTAINE THEIR SERVER'S IN ONLY ONE AVAVALABILTY ZONE 
THAT AVAVALABILITY ZONE IS FAILURE BECAUSE OF SOME POWERISSUE OR INTERNET ISSUEANY THING.

HIGHLOAD: FLIPKART APPLICATION MAINATINE SERVER'S BUT THAT SERVER'S ARE MAINTAINE 10,000 REQ PER MINUTE
BUT SOME CASES 1 MIN 15000 REQ WILL COME ON THAT TIME HIGH LOAD ON THE SERVERS, PAGE IS NOT LOADING 
CUSTOMERS ARE COMPLINING. BECAUSE OF HIGH LOAD MY APPLICATION ID DOWN NOT ACHIVING HIGH AVALABILTY

4) SOFTWARE FAILURE:I SERVER SOFTWARE FAILURE MEANS THAT APPLICATION NOT CONNECTING DATABASE SERVER'S
FOR SOFTWARE FAILURE FLIPKART APPLICTION NOT ACHIVING HIGH AVALABILTY

==============================================================================
HOW TO AVOID THAT THINGS:

AWS GIVING 2 SERVERCS TO OVERCOME 4 PROBLEMS AND FOE ACHIVING HIGH AVALABILTY OF OUR APPLICATION

ASG+ELB

WE ARE USING 2 SERVICESS COMBINDLY THEN ONLY WE CAN OVERCOME THESE 4 THINGS
===============================================
ASG: ASG HAVING TWO DEFAULT FEAUTER'S

1) REPLACING FAILURE MACHINES

SERVER'S WE KEEP IN AUTO SCALLING GROUP AUTO SCALLING EASILY IDENTIFIED FAILURE MACHINES
THAT FAILURE MACHINE TERMINATE AND REPLACE NEW  MACHINES OF EXSTING MACINE. THAT IS CALLER REPLACING

2) REBALANCHING
OUR RESPONSIBLITY TO DISTUBUTE SERVER'S IN MULTIPLE AVALABILTY ZONES
WE NEED SELECT MULTIPLE AVALABILTY ZONES WHNE CREATION OF ASG THAT THING WE CAN CALL AS REBALNCING

AWS IS NOT FORCE BUT IT IS RECOMNDING IT IS DESIGN CONSTRAIN

=========================================================================
REBALCHING: MEANS DISTUBTE MACHINES IN MULTIPLE AVALABITY-ZONES
IN-SERVICE MACHINES DISTUBTE ASG MUTPLE AVALABITY-ZONES
ASG EQUAL(EVENT) DISTUBUTED MACHINES INTO MULTIPLE AZ'S

=========================================
ELB: DISTUBTE THE LOAD INTO MULTUIPLE SERVER'S
AS: DISTUBUTED  MULTIPLE SERVER'S INTO MULTIPLE AVALABILTY ZONES  
===================================================================
EX:
SINGPOOR REGION:
MY APPLICATION IS WANT-2 SERVERS RUNNING CONDITION

NOW DESIRE IS =2
THAT 2 MACHINES ARE IN AUTO SCALLING GROUP

SO,
I SELECT THE AZ1-I1
             AZ2-I2
             AZ3-0
NOW AUTO SCALLING EQUAL-DISTUBUTED MY SERVERS INTO
AS MAINTAINE DESIRE NUMBER OF MACHINES
NOW 
MY DESIRE-3
SO,
AS IS EQUAL-DISTUBUTED MY SERVER'S INTO AZ'S(DEFAULT ACTIVITY) 
I SELECT THE AZ1-I1
             AZ2-I2
             AZ3-I3

AS MAINTAINE DESIRE NUMBER OF MACHINES
NOW 
MY DESIRE-5
SO,
AS IS EQUAL-DISTUBUTED MY SERVER'S INTO AZ'S(DEFAULT ACTIVITY) 
I SELECT THE AZ1-I1,I3
             AZ2-I2,I4
             AZ3-I3
 
NOW MY I1 IS FAILURE IN AZ1 SO AS IS EASILY IDENTIFID FAILURE MACHINE
AND REALUNCH THE MACHINE IN SAME AVALABILTY ZONE

NOW MY I1IS FAILURE IN AZ1 BECAUSE OF AZ  SO AS IS EASILY IDENTIFID FAILURE MACHINE
AND REALUNCH THE MACHINE IN ANOTHER AVALABILTY ZONE
==================================================
AUTO-SCALLING CONTOUNUSLY HEALTH CHECKS TO THE OUR EC2-INSTANCE
NOT BUTHOUR ABOUT OUR APPLICATION OR RUNNING OR NOT OF AS
ELB CONTUNOUSLY HEALTH CHECK'S TO MY APPLICATION RUNNING OR NOT
ASG CONTIOUSLY HEALTH TO THE OUE EC2-INSTAMCEWSSs
MEANS IT CHECKS RUNNING OR NOT 
IF RUNNING AUTO-SCALLING TREATE THAT MACHINE IS HEALTH
IF STOPPED MEANS AS TREATE AS A FILURE INSTANCE
SO ASG LUANCH EC2-INSTANCE 
AS DOENOT REQUIRED WHO ARE STOPPED THAT SERVER IF IT IS STOOPED CONDITION IT TERMINATED AND 
RELUANCH THE INSTANCE
=====================================================================================
HOW AUTO-SCALLING CONTROAL HIGHLOAD

AUTO-SCALLING HAING 3 POLICIES
1) MANUAL
2) SHUDELE
3) EVENT

AUTO-SCALLING IT IS USE ANYONE OF POLICY IT MIGHT BE BOTH

1) MANUAL-POLYCY MEANS: WHEN HIGHLOAD WE NEED TO INCRESS DESIRE THAT IS MANUALPOLICY
WHEN LOW-LOAD WE NEED TO CHANGE DECRESS DESIRE NOW AS IS DECRESS THE INSTANCESS THAT IS CALLED MANUAL
 
2) SHUDELE-POLICY MEANS: SOME TIME WE ARANGING BIG-BIONS-DAY ONT THE TIME WE ARE SHUDLED MEANS WE ARE PLLANED
ON SAT-9 CLOCK AM TO MONDAY 9-AM WE NEED SOME ADITIONAL MACHINES WE SHUDELED THAT CALLED AS 
SHUDELED POLICY

3) EVENT: SOME APPLICATION'S ARE THERE FILPKART OR AMAZON WE DONT KNOW APPLICATIONS' HAVE HIGH LOAD OR LOW LOAD
ON THE TIME AS DOING SCLLING ACTIVITY BASED ON EVENT THET ID CALLED EVENT-POLICY 

WHEN EVER SYSTEM-GETTING LOT OF LOAD SYSTEM GIVING INDICATION

WHEN REQ PROCESSING ON MACHINE SYSTEM PERFORMANCE IS REGRTED

WHEN HIGHLOAD SYSTEM CPU EVENT IS INCRESS 
AND MEMORY EVENT ALSO INCESS 
AND DISK-UTILIZES
NETWORK UTILIZES ARE INCRESS NOW AS IS UNDERSTAND 
SERVER ARE INCRESS OR DECRESS BASED ON SYSTEM EVENTS
READING HARD-DISK WRITING INTO HARD-DISK
NETWORK UTILIZES DOWNLOADING AND UPLOADING
BASED-ON THAT EVENT AS DO THE SCALLING ACTIVITY
CPU<80%--I DON'T NEED MORE SERVER'S
CPU>80%--I NEED MORE SERVERS 
BASED ON CPU EVENT 

=========================
ASG WILL DO SCALLING ACTIVY BASED ON 3 THINGS
==========================================
HOW AUTO-SCALLING KNOWS WHICH SERVER I WNAT TO LUANCH 
MEANS
WHICH AMI
WHICH INSTACE TYPE
WHICH STORAGE
WHICH SG
WHICH KEYPAIR ATTCH
WHERE I WANT TO PLACE VPC,SN1

HOW OUR SOFTWARE NEED TO IN THAT SERVER.
THAT RESPONSIBLITY WE CAN CAN GIVE TO AS
AS DONT KNOW THAT AMI HAVING WHICH SOFTWARE WE NEED TO GIVE AMI INFORMATION
THEN AS IS LUANCH THE SERVER BASED ON THAT AMI
USING LUANCH-CONFIGURATION
============================================================
1) LC: IS FREE 
WE GIVE MACHINE RELATED DATE IN LUANCH-CONFIGURATION

LC---
1)AMI,
2)INSTANCETYPE,
3)SG,
4)VOLSIZE,
5)KP,
6)UD
THES ETHING WE WRE CONFIGURE IN LC

2) ACTUAL WORK IS DONE USING AUTO-SCALLING-GROUP
ASG--GROUP ACTUAL WORK IS SCALLING ACTIVITY INFORMATION
WE CAN CONFIGURE IN ASG:
1) VPC,SNET
2) DESIRE ,MIN,MAX--DESIRE PARAMNETRS
3) SCALLING POLYCY
4) WHICH LC

AUTO-SCALLING ALLWAYS FOLLWS FORMULA
MIN<=DESIRE<=MAX

DESIRE : AUTO-SCALLING ENSURE DESIRE NO OF MACHINES HEALTH CONDITIONS
THAT MEANS IN-SERVICE MACHINES

MIN: WE CREATE AUTO-SCALLING GROUP MIN NUMBER OF INSTANCESS ARE AVALIBLE
IN THAT REGION MINIMUM NUMBER OF MACHINES IS THERE THEN ONLY IT WILL LUANCH SERVER'S
OTHER WISE IT WILL NOT LUANCH NO NUMBET OF MACHINES

DESIRE=5
MIN=3---IN REGION MIN 3 
NO.OF MACHINE'S T3.LARGE WILL TEHER IT LUANCH  MAHINES
OTHEWISE NO MACHINES LUANCHED

AT 7AM CLOCK I DESIDE TO LUANCH 5 MACHINES 
DESIRE=5
MIN=3
ON TIME 3 T2.LARGE ONLY AVALIBALE THERE IT WILL LUNCH 3 
IN FUTURE BASED ON AVALBILTY MACHINES IT LUANCH 5 MACHINES
ON THA TIME WE HAVING 2 T2.LARGE MACHINES IT WILL NOT LUANCH 2 MACHINES 
AS WANT MIN NUMBER ODF MACHINES

MAX: WHEN SCALING-OUT IT IS NOT GO ABOVE MAX THAT IS FILNAL

UPPERLIMIT=MAX
LOWERLIMIT=MIN
================================================
TWO-TYPES OF SCALLING
1) HORIZONTALSCALLING
INCERSING OR DECRISING THE MACHINES
2) VETICAL SCALLING
MEANS INCRESING OR DECRISING OF SERVER CAPACITY

AS IS  SUPPORT HORIZONTAL-SCALLING
AS IS DOES'T SUUPORT VERTICAL SCALLING

============================================================================
AUTO-SCALLING IMPLEMENTD ALONG WITH ELB
===========================================
1) SCALLING
   A) SCALE-OUT
    B) SCALE-IN
2) HOR-SCALLING
3) VERTICAL-SCALLING
4) LUANCH-CONFIGURATION
5) ASG
6) REBALNCING/RELUANCHING
7) MIN,DESIRE,MAX
        MIN<=DESIR<=MAX
8) SCALLING POLICIES
   A) MANUAL
   B) SCHEDULED
   C) EVENT
9) luanch template
AUTOSCALLING+ELB FOR APPLICATION HIGH AVALABITY
AUTOSCALLING+ELB NOT FOR DATABASE HIGH AVALABITY(SOME OTHER TECHINQUE)
we wre not chnge lc configuration once created 
we change asg edit
=================================================================================================
TASKS:
1) create lc 
ami(ubuntu)--ami-0fed77069cd5a6d6c
sg---ib-80
install apache using userdata
2) create asg
  min=2
 desire=3
 max=5
select 3 avalabityzones of subnets
and test
=================================================
testing:

1) check replaced failurw instances functionality
   a) stop asg instance
b) change  desire to 1
 1a-i1
1b-0
1c-o

c) change  desire to 4
1a-i1,i2
1b-i3
1c-i4
d) check asg activity log
e) edit asg remove 1c-avalabity-zone
1a-i1,i2
1b-i3,i4
6) note down your objervation
7) edit asg add 1c-avalabity-zone
1a-i1,i2
1b-i3          desire-o4
1c-i4
8) notedown-your abservation

auto-scalling point of server is not running condition that server is failure
auto-scalling contnously checking server is running or not that means 
it checks health 

desire =2 
actual capacity =3
then asg is terminated 3rd server
now desire = capacity asg balanching

how do we know thias machine are part of auto-scalling group
we idntofied by using tages 
key                                value
aws:autoscaling:groupName	  ASG-01



10) it is possible to remove machine from asg
yes
at any-time exsting thing we can add to asg
and 
in asg we can remove instance

when we are removing desire will decress automactically
when add to server into asg some agremnt required
i am not terminating that machine i want to remove ec2 from asg
that machine not having asg tag so that is running like independent machine
==============================
when we dont want to  asg then desire=0 or delete as group

======================================
what is diff between luanch-templat vs luanch configuratuon


how to change the instance type
1) stop instance
2) change instance type
3) start .
==================================
how to asg machines upgrade 
ans: standbymode
asg for windows machines alsoi want to restart asg machine how
when we retart asg treat failure it luanch one-more
so when doing like that we wany to inform to asg using standbymode
when server is standby mode asg not checking health-check
=====================================================
we work with asg+elasticelb
whan ever we asg luanch server's that servers automactically register with elb
we work with asg+elasticelb
whan ever we asg luanch server's that servers automactically register with targetgroups






















 











 













































===============================================================================
asg:
-----------------
mainy our application is mainataine high avalability

so high avalability purpose we are using aws servicess elb+asg

ELB: FRO DISTUBUTING LOAD BETWEEN MULTIPLE SERVERS
ASG: FOR IT DOING HORIZONTAL SCALING ACTIVITY

HORIZONTAL SCALLING ACTIVITY:SCALLING-OUT AND SCALLING-IN

SCALING-OUT---MEANS INCRESS THE NO.OF INSTANCESS
SCALLING-IN: MEANS DECRESS THE NO.OF INSTANCESS

===============================================================
BASICALLY OUR APPLICATION NOT ACHIOVE HIGH AVALABILITY BECAUSE OF FOUR THINGS

1) SITE FAILIURE: AVALABILITY-ZONE FAILURE MY ALLICATION IN THAT REGION BECAUSE OF AZ FAILURE USER
   NOT ACESSING MY APPLICATION
2) SERVER FAILURE : SERVER  MAINTAINE MY APPLICATION BECUSE OF SERVER FAILURE USERS NOT ACESSING MY APP
3) HIGH LOAD: WE ARE MAINTAING SERVERS 3 THAT 3 SERVER'S HAVING MORE LOAD SO USER NOT ACESSING MY APP BECAUSE OF HL
4) SOFTWARE FAILURE: MY APPLICATION FAILURE IN ONE SERVER BECAUSE OF THAT SOME REASON USER NOT ACESSING MY APP

====================================================
BEACUSE OF THES 4 THING MY APP NOT IN HIGH AVALABILTY
SO TO OVER-COME  4 THING WE ARE USING ASG+ELB

1) SITE-FAILURE: WHEN SITE FAILURE ASG LUANCH SERVER IN ANOTHER SITE AND AUTOMICATICALLY THAT SERVER ATTCHED TO LOAD BALANCER
2) SERVER FAILURE: WHEN SERVER FAILURE ASG RELUANCH SERVER USING LUANCHCONFIGURATION AND AUTOMACTICALLY THAT SERVER ATTAVCHED TO THA ELB
3) HIGH LOAD : WHEN EVER MY APPLICATION GETTING HIGH LOAD ASG LUANCH MORE SERVER'S AND AUTOMACTICALLY ATTCHED TO THAT SERVER'S TI ELB
4) SOFTEARE FAILURE : ASG CONTONOUSLY CHEKING APPLICATION HEALTH CHECKS WHEN ANY SOFTWARE FAILURE THEN IT EASILY IDENTIFIE
THE SERVER AND LUANCH AMOTHER SERVER AND AUTOMACTICALLY ATTCHED TO ELB
=======================================================================
AWS RECOMDED SERVER'S MAINTAINE MORE AVALABILTY-ZONES 
=======================================================
ASG: IT HAVING 2 DEFAULT FEATURE

1) RELUANCH WHEN SERVER IS FAILURE 
2) REBALCHING THE SERVERS
===================================================
LUANCH CONFIGURATION: MEANS ASG RELUANCH THE FAILURE SERVER SO WE ARE RESPONSIBLITY FOR GIVE INFORMATION ABOUT SERVER LUANCH
USING LUANCH CONFIGURETION

1) WHICH ASG USE  			 ami-083654bd07b5da81d
2)INSTANCE TYPE   			 t2.micro
3) WHICH VPC WHICH AVALABITYZONE        VPC-O2 WHICH AVALABITYZONE
4) ASIGN IP ARE NOT
5) ABOUT STORAGE                        10GB VOLUME
6) TAGES OF SERVER                               WEBAPP
7) SG                                    SG-ASG
8) KEYP[AIR WE CAN USE FOR THAT SERVER   KEY1.PEM









 












